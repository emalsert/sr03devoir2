{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { getCurrentUser, isAuthenticated } from '../services/api';\nexport const useAuth = () => {\n  _s();\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const checkAuth = async () => {\n      try {\n        const userData = await getCurrentUser();\n        setUser(userData);\n        if (!userData) {\n          navigate('/login');\n        }\n      } catch (error) {\n        console.error('Error checking auth:', error);\n        navigate('/login');\n      } finally {\n        setLoading(false);\n      }\n    };\n    checkAuth();\n  }, [navigate]);\n  return {\n    user,\n    loading\n  };\n};\n_s(useAuth, \"lk6viekuCMMpYORkLYLEq0Wsfds=\", false, function () {\n  return [useNavigate];\n});","map":{"version":3,"names":["useState","useEffect","useNavigate","getCurrentUser","isAuthenticated","useAuth","_s","user","setUser","loading","setLoading","navigate","checkAuth","userData","error","console"],"sources":["/Users/eliotmalsert/Code/SR03/sr03devoir2/frontend/src/hooks/useAuth.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { getCurrentUser, isAuthenticated } from '../services/api';\n\nexport const useAuth = () => {\n    const [user, setUser] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        const checkAuth = async () => {\n            try {\n                const userData = await getCurrentUser();\n                setUser(userData);\n                if (!userData) {\n                    navigate('/login');\n                }\n            } catch (error) {\n                console.error('Error checking auth:', error);\n                navigate('/login');\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        checkAuth();\n    }, [navigate]);\n\n    return { user, loading };\n}; "],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,cAAc,EAAEC,eAAe,QAAQ,iBAAiB;AAEjE,OAAO,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAMW,QAAQ,GAAGT,WAAW,CAAC,CAAC;EAE9BD,SAAS,CAAC,MAAM;IACZ,MAAMW,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC1B,IAAI;QACA,MAAMC,QAAQ,GAAG,MAAMV,cAAc,CAAC,CAAC;QACvCK,OAAO,CAACK,QAAQ,CAAC;QACjB,IAAI,CAACA,QAAQ,EAAE;UACXF,QAAQ,CAAC,QAAQ,CAAC;QACtB;MACJ,CAAC,CAAC,OAAOG,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;QAC5CH,QAAQ,CAAC,QAAQ,CAAC;MACtB,CAAC,SAAS;QACND,UAAU,CAAC,KAAK,CAAC;MACrB;IACJ,CAAC;IAEDE,SAAS,CAAC,CAAC;EACf,CAAC,EAAE,CAACD,QAAQ,CAAC,CAAC;EAEd,OAAO;IAAEJ,IAAI;IAAEE;EAAQ,CAAC;AAC5B,CAAC;AAACH,EAAA,CAzBWD,OAAO;EAAA,QAGCH,WAAW;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}